<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>Esfera goniom√®trica: sin i cos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon (icona de la pestanya) -->
  <link rel="icon" type="image/png" href="https://i.ibb.co/ZRt0f9HS/imagotip-pestanya.png">

  <!-- Tipografies de marca: Paytone One + Urbanist -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Urbanist:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Paleta inspirada en el manual de marca */
      --lima: #d5f476;        /* Verd lima - destacats / fons suau */
      --blanc: #f9f8ef;       /* Blanc cru - targetes */
      --fucsia: #ff3d78;      /* F√∫csia - accent principal */
      --jade: #00a874;        /* Verd jade - accent secundari */
      --text: #000000;        /* Text principal en negre */
      --text2: #1f2937;       /* Text secundari gris fosc */
      --danger: #ff3d78;      /* F√∫csia tamb√© per errors/avisos */
      --border: #5c3a93;      /* Morat per a contorns */
      --lila: #d5bef7;        /* Lila claret */
      --muted: #6b7280;       /* Text suau (peu de p√†gina) */
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        radial-gradient(circle at top left, #ffaac9 0, #d5f476 35%, #d5bef7 70%, #5c3a93 100%);
      font-family: "Urbanist", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
      color: var(--text);
      padding: 16px;
    }

    .card {
      background: var(--blanc);
      border-radius: 18px;
      padding: 20px 24px 24px;
      max-width: 1100px;
      width: 100%;
      box-shadow:
        0 18px 35px rgba(0, 0, 0, 0.18),
        0 0 0 2px rgba(0, 0, 0, 0.05);
      border: 2px solid var(--border);
    }

    /* üîπ Logo cap√ßalera */
    .logo-wrap {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }
    .logo-wrap img {
      max-width: 200px;
      width: 100%;
      height: auto;
      display: block;
      opacity: 0.9;
      transition: opacity 0.15s ease-out, transform 0.15s ease-out;
    }
    .logo-wrap img:hover {
      opacity: 1;
      transform: translateY(-1px);
    }

    /* üîπ Logo final/imagotip */
    .logo-footer {
      margin-top: 1px;
      margin-bottom: 13px;
      display: flex;
      justify-content: center;
    }
    .logo-footer img {
      max-width: 50px;
      width: 100%;
      height: auto;
      display: block;
      opacity: 0.9;
      transition: opacity 0.15s ease-out, transform 0.15s ease-out;
    }
    .logo-footer img:hover {
      opacity: 1;
      transform: translateY(-1px);
    }

    /* üîπ Peu de p√†gina: l√≠nia separadora */
    .footer {
      margin-top: 20px;
      font-size: 0.78rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
      border-top: 1px solid rgba(148, 163, 184, 0.4);
      padding-top: 10px;
      min-height: 14px;
    }

    h1 {
      margin: 0 0 8px;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: "Paytone One", system-ui, sans-serif;
      letter-spacing: 0.02em;
      color: var(--text);
    }
    h1 span {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      background: var(--jade);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.95rem;
      color: #ffffff;
      box-shadow: 0 0 0 2px #ffffff;
    }

    .subtitle {
      font-size: 0.9rem;
      color: var(--text2);
      margin-bottom: 16px;
      line-height: 1.5;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1.3fr;
      gap: 20px;
    }

    @media (max-width: 900px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }

    .pill {
      padding: 4px 10px;
      border-radius: 999px;
      background: #00a8741f; /* verd jade molt suau */
      color: var(--jade);
      font-size: 0.78rem;
      margin-bottom: 8px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.04em;
    }

    label {
      color: var(--text2);
      font-size: 0.9rem;
      display: block;
      margin-bottom: 4px;
      font-weight: 500;
    }

    input[type="number"],
    input[type="text"] {
      width: 100%;
      padding: 7px 9px;
      border-radius: 10px;
      border: 1.5px solid rgba(0, 0, 0, 0.12);
      background: #ffffff;
      color: var(--text);
      font-size: 0.9rem;
      outline: none;
      transition: border 0.15s, box-shadow 0.15s, background 0.15s, transform 0.08s;
    }

    input[type="number"]:focus,
    input[type="text"]:focus {
      border-color: var(--fucsia);
      box-shadow: 0 0 0 2px rgba(255, 61, 120, 0.25);
      background: #ffffff;
      transform: translateY(-1px);
    }

    input[type="range"] {
      width: 100%;
      accent-color: var(--fucsia); /* üîπ barra de l'angle en f√∫csia */
    }

    .controls-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px 16px;
      margin-bottom: 10px;
    }

    .results-box {
      margin-top: 6px;
      padding: 10px 12px;
      border-radius: 14px;
      background: #ffffff;
      border: 1.5px solid rgba(0, 0, 0, 0.12);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.06);
    }

    .result-line {
      font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      margin: 2px 0;
      font-size: 0.9rem;
    }
    .result-line .label {
      color: var(--text2);
    }
    .result-line .emph {
      color: var(--jade);
      font-weight: 600;
    }

    table.special-angles {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 0.82rem;
      background: #ffffff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }
    table.special-angles td,
    table.special-angles th {
      border: 1px solid rgba(0, 0, 0, 0.12);
      padding: 4px 6px;
      text-align: center;
      color: var(--text2);
    }
    table.special-angles th {
      background: var(--lila); /* üîπ cap√ßalera amb lila clar */
      font-weight: 700;
    }

    .graph-card {
      border-radius: 14px;
      padding: 12px;
      padding-top: 17px;
      padding-bottom: 19px;  /* üîπ Afegeix espai inferior */
      background: #ffffff;
      border: 1.5px solid rgba(0, 0, 0, 0.12);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.06);
    }

    /* Canvas responsive: ample 100% i proporci√≥ 4:3 */
    #unit-circle {
      width: 100%;
      max-width: 720px;
      aspect-ratio: 4 / 3;
      display: block;
      background: #020617;
      border-radius: 10px;
      border: 1px solid rgba(148,163,184,0.4);
    }

    /* Desktop vs m√≤bil per les taules */
    .desktop-only { display: block; }
    .mobile-only { display: none; }

    @media (max-width: 900px) {
      .desktop-only { display: none; }
      .mobile-only { display: block; }
    }

    /* Ajustos extra per m√≤bil petit */
    @media (max-width: 600px) {
      .card {
        padding: 16px;
        border-radius: 14px;
      }
      h1 {
        font-size: 1.2rem;
        flex-wrap: wrap;
      }
      .subtitle {
        font-size: 0.85rem;
      }
      .results-box {
        font-size: 0.85rem;
      }
      .result-line {
        font-size: 0.8rem;
      }
      table.special-angles {
        font-size: 0.78rem;
      }
      .footer {
        flex-direction: column;
        font-size: 0.75rem;
      }
    }
  </style>
</head>

<body>
  <div class="card">
    <!-- Logo superior -->
    <div class="logo-wrap">
      <a href="https://www.larrelacademia.cat/" target="_blank" rel="noopener noreferrer">
        <img src="https://i.ibb.co/TDpf3BHr/PRINCIPAL-FUCSIA.png" alt="L'Arrel Acad√®mia - Logo principal f√∫csia">
      </a>
    </div>

    <h1><span>‚óØ</span>Esfera goniom√®trica: sin i cos</h1>

    <p class="subtitle">
      Mou l‚Äôangle i observa els valors de <strong>sin(Œ±)</strong> i <strong>cos(Œ±)</strong> sobre la circumfer√®ncia
      trigonom√®trica i la seva correspond√®ncia en radians.
    </p>

    <div class="grid">
      <!-- CONTROLS + RESULTATS -->
      <div>
        <div class="pill">‚öôÔ∏è Angle</div>

        <div class="controls-grid">
          <div>
            <label>Angle (graus):</label>
            <input id="angle-deg" type="number" value="30">
          </div>

          <div>
            <label>Angle (0‚Äì360¬∞):</label>
            <input id="angle-slider" type="range" min="0" max="360" value="30">
          </div>
        </div>

        <!-- RESULTATS -->
        <div class="pill" style="margin-top:6px;">üìä Resultats trigonom√®trics</div>
        <div class="results-box">
          <div class="result-line"><span class="label">Œ± (¬∞): </span><span id="res-deg">30</span></div>
          <div class="result-line"><span class="label">Œ± (rad): </span><span id="res-rad">œÄ/6</span></div>
          <div class="result-line"><span class="label">cos Œ± = </span><span class="emph" id="res-cos"></span></div>
          <div class="result-line"><span class="label">sin Œ± = </span><span class="emph" id="res-sin"></span></div>
          <div class="result-line"><span class="label">tan Œ± = </span><span class="emph" id="res-tan"></span></div>
          <div class="result-line" id="res-quadrant"></div>
        </div>

        <!-- Taula nom√©s en versi√≥ escriptori -->
        <div class="desktop-only">
          <div class="pill" style="margin-top:14px;">üìå Relaci√≥ angle ‚á¢ radiants</div>
          <table class="special-angles">
            <tr><th>Graus</th><th>Radians</th></tr>
            <tr><td>0¬∞</td><td>0</td></tr>
            <tr><td>90¬∞</td><td>œÄ/2</td></tr>
            <tr><td>180¬∞</td><td>œÄ</td></tr>
            <tr><td>270¬∞</td><td>3œÄ/2</td></tr>
            <tr><td>360¬∞</td><td>2œÄ</td></tr>
          </table>
        </div>
      </div>

      <!-- GR√ÄFIC -->
      <div>
        <div class="pill">üìà Gr√†fic</div>
        <div class="graph-card">
          <!-- width/height inicials nom√©s com a fallback -->
          <canvas id="unit-circle" width="720" height="540"></canvas>
        </div>

        <!-- Taula nom√©s en versi√≥ m√≤bil -->
        <div class="mobile-only" style="margin-top: 20px;">
          <div class="pill">üìå Relaci√≥ angle ‚á¢ radiants</div>
          <table class="special-angles">
            <tr><th>Graus</th><th>Radians</th></tr>
            <tr><td>0¬∞</td><td>0</td></tr>
            <tr><td>90¬∞</td><td>œÄ/2</td></tr>
            <tr><td>180¬∞</td><td>œÄ</td></tr>
            <tr><td>270¬∞</td><td>3œÄ/2</td></tr>
            <tr><td>360¬∞</td><td>2œÄ</td></tr>
          </table>
        </div>
      </div>
    </div>

    <!-- üîπ Peu de p√†gina: l√≠nia + imagotip + text legal -->
    <div class="footer"></div>

    <!-- Logo final (imagotip) -->
    <div class="logo-footer">
      <a href="https://www.larrelacademia.cat/" target="_blank" rel="noopener noreferrer">
        <img src="https://i.ibb.co/PvJdJ31H/IMAGOTIP-FUCSIA.png" alt="L'Arrel Acad√®mia - Imagotip f√∫csia" />
      </a>
    </div>

    <div style="text-align:center; margin-top:0; font-size:0.75rem; color:var(--muted);">
      ¬© 2025 L'Arrel Acad√®mia ¬∑ Simuladors educatius
    </div>
  </div>

<script>
function normalizeDeg(d){ d = d % 360; return d < 0 ? d + 360 : d; }
function toRad(d){ return d * Math.PI / 180; }
function round(x,n){ return Math.round(x * 10**n) / 10**n; }

const degInput = document.getElementById("angle-deg");
const slider = document.getElementById("angle-slider");

const resDeg = document.getElementById("res-deg");
const resRad = document.getElementById("res-rad");
const resCos = document.getElementById("res-cos");
const resSin = document.getElementById("res-sin");
const resTan = document.getElementById("res-tan");
const resQuadrant = document.getElementById("res-quadrant");

const canvas = document.getElementById("unit-circle");
const ctx = canvas.getContext("2d");

// variables dependents de la mida, recalculades en cada resize
let W, H, cx, cy, R;
let currentDeg = 30; // angle actual

function quadrant(d){
  if (d>0 && d<90) return 1;
  if (d>90 && d<180) return 2;
  if (d>180 && d<270) return 3;
  if (d>270 && d<360) return 4;
  return 0;
}

function sign(x){
  if (Math.abs(x) < 1e-8) return "(0)";
  return x>0 ? "(+)" : "(‚Äì)";
}

function quadrantText(q,deg){
  const r = toRad(deg);
  const s = Math.sin(r), c = Math.cos(r), t = Math.tan(r);

  if (q===1) return `Quadrant I: sin ${sign(s)}, cos ${sign(c)}, tan ${sign(t)}`;
  if (q===2) return `Quadrant II: sin ${sign(s)}, cos ${sign(c)}, tan ${sign(t)}`;
  if (q===3) return `Quadrant III: sin ${sign(s)}, cos ${sign(c)}, tan ${sign(t)}`;
  if (q===4) return `Quadrant IV: sin ${sign(s)}, cos ${sign(c)}, tan ${sign(t)}`;

  return `Sobre un eix ‚Äì sin ${sign(s)}, cos ${sign(c)}, tan ${Math.abs(c)<1e-8 ? "indefinida" : sign(t)}`;
}

// üîß Ajusta el canvas mantenint el layout CSS i nom√©s puja la resoluci√≥ interna
function resizeCanvas() {
  const rect = canvas.getBoundingClientRect();
  const cssWidth = rect.width || 300;
  const cssHeight = rect.height || cssWidth * 0.75; // per si falla l'aspect-ratio

  const dpr = window.devicePixelRatio || 1;

  // Mida REAL del canvas en p√≠xels f√≠sics
  canvas.width = cssWidth * dpr;
  canvas.height = cssHeight * dpr;

  // Escalem el sistema de coordenades perqu√® 1 unitat = 1 px CSS
  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);

  // Guardem mides en p√≠xels CSS per dibuixar
  W = cssWidth;
  H = cssHeight;
  cx = W / 2;
  cy = H / 2;
  R = Math.min(W, H) * 0.35;
}

function draw(deg){
  const rad = toRad(deg);
  const c = Math.cos(rad), s = Math.sin(rad);

  ctx.clearRect(0,0,W,H);
  ctx.fillStyle="#322d36";
  ctx.fillRect(0,0,W,H);

  // quadrants amb colors de marca
  const cols=[
    "#d5bef722",  // f√∫csia suau
    "#d5bef722",  // jade suau
    "#d5bef722",  // lima suau
    "#d5bef722"   // lila suau
  ];
  for(let i=0;i<4;i++){
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.fillStyle=cols[i];
    ctx.arc(cx,cy,R,-Math.PI/2 + i*Math.PI/2, -Math.PI/2 + (i+1)*Math.PI/2);
    ctx.fill();
  }

  // eixos
  ctx.strokeStyle="#e5e7ebcc";
  ctx.lineWidth=2;
  ctx.beginPath(); ctx.moveTo(cx-R*1.2,cy); ctx.lineTo(cx+R*1.2,cy); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(cx,cy-R*1.2); ctx.lineTo(cx,cy+R*1.2); ctx.stroke();

  // üîπ offset adaptatiu perqu√® els radian labels no es tallin al m√≤bil
  const offset = W < 500 ? 18 : 35;

  // radian labels
  ctx.fillStyle="#e5e7eb";
  ctx.font = (W < 400 ? "14px system-ui" : "16px system-ui");

  ctx.textAlign="left"; ctx.textBaseline="middle";
  ctx.fillText("0 ‚á¢ 2œÄ", cx + R + offset, cy);
  ctx.textAlign="right"; ctx.fillText("œÄ", cx - R - offset, cy);

  ctx.textAlign="center";
  ctx.textBaseline="bottom";
  ctx.fillText("œÄ/2", cx, cy - R - offset);

  ctx.textBaseline="top";
  ctx.fillText("3œÄ/2", cx, cy + R + offset);

  // cercle (f√∫csia)
  ctx.beginPath();
  ctx.arc(cx,cy,R,0,Math.PI*2);
  ctx.strokeStyle="#e5e7ebcc";
  ctx.lineWidth=3;
  ctx.stroke();

  // Petit arc de l'angle: √†rea + l√≠nia
  const arcR = R * 0.20;

  // 1Ô∏è‚É£ √Ärea omplerta (sector circular)
  ctx.beginPath();
  ctx.moveTo(cx, cy);                          // centre
  ctx.arc(cx, cy, arcR, 0, -rad, rad > 0);     // ‚¨ÖÔ∏è IMPORTANT: igual que l'arc original
  ctx.closePath();

  ctx.fillStyle = "rgba(255, 61, 120, 0.25)";  // f√∫csia suau transl√∫cid
  ctx.fill();

  // 2Ô∏è‚É£ L√≠nia de l‚Äôarc (mateix recorregut)
  ctx.beginPath();
  ctx.arc(cx, cy, arcR, 0, -rad, rad > 0);     // ‚¨ÖÔ∏è mateixa crida: mateix sentit, mateixa forma
  ctx.strokeStyle = "#ff3d78";                 // f√∫csia fort
  ctx.lineWidth = 2;
  ctx.stroke();

  // radi (f√∫csia)
  const px=cx+c*R, py=cy - s*R;
  ctx.beginPath();
  ctx.strokeStyle="#ff3d78";
  ctx.lineWidth=3;
  ctx.moveTo(cx,cy);
  ctx.lineTo(px,py);
  ctx.stroke();

  // punt (f√∫csia)
  ctx.beginPath();
  ctx.arc(px,py,6,0,Math.PI*2);
  ctx.fillStyle="#ff3d78";
  ctx.fill();

  // projeccio cos (jade)
  ctx.strokeStyle="#00a874";
  ctx.lineWidth=3;
  ctx.beginPath();
  ctx.moveTo(cx,cy);
  ctx.lineTo(cx + c*R, cy);
  ctx.stroke();
  
  // üîπ Bola al final de la projecci√≥ de cos(Œ±)
  ctx.beginPath();
  ctx.arc(cx + c*R, cy, 5, 0, Math.PI * 2);
  ctx.fillStyle = "#00a874";
  ctx.fill();

  // projeccio sin (lima)
  ctx.strokeStyle="#d5f476";
  ctx.lineWidth=3;
  ctx.beginPath();
  ctx.moveTo(cx,cy);
  ctx.lineTo(cx, cy - s*R);
  ctx.stroke();
  
  // üîπ Bola al final de la projecci√≥ de sin(Œ±)
  ctx.beginPath();
  ctx.arc(cx, cy - s*R, 5, 0, Math.PI * 2);
  ctx.fillStyle = "#d5f476";
  ctx.fill();

  // l√≠nies guia
  ctx.setLineDash([4,4]);
  ctx.strokeStyle="#9ca3afaa";
  ctx.lineWidth=1.5;
  ctx.beginPath();
  ctx.moveTo(px,py); ctx.lineTo(px,cy); ctx.stroke();

  ctx.beginPath();
  ctx.moveTo(px,py); ctx.lineTo(cx,py); ctx.stroke();
  ctx.setLineDash([]);

  // text cos (jade)
  ctx.fillStyle="#00a874";
  ctx.textAlign="center";
  ctx.textBaseline="top";
  ctx.fillText(`cos Œ± ‚âà ${round(c,2)}`, (cx + (cx+c*R))/2, cy+4);

  // text sin (lima)
  ctx.fillStyle="#d5f476";
  ctx.textAlign="right";
  ctx.textBaseline="middle";
  ctx.fillText(`sin Œ± ‚âà ${round(s,2)}`, cx - 6, (cy + (cy-s*R))/2);
}

function update(d){
  const deg = normalizeDeg(d);
  const rad = toRad(deg);
  currentDeg = deg; // guardem l'angle actual per al resize

  degInput.value=d;
  slider.value=deg;

  resDeg.textContent=deg;
  resRad.textContent=rad.toFixed(3);
  resCos.textContent=round(Math.cos(rad),4);
  resSin.textContent=round(Math.sin(rad),4);

  const c=Math.cos(rad);
  resTan.textContent = Math.abs(c)<1e-8 ? "indefinida" : round(Math.tan(rad),4);

  resQuadrant.textContent = quadrantText(quadrant(deg),deg);

  draw(deg);
}

degInput.addEventListener("input",()=>update(parseFloat(degInput.value)));
slider.addEventListener("input",()=>update(parseFloat(slider.value)));

// Inicialitzaci√≥ i resize
window.addEventListener('resize', () => {
  resizeCanvas();
  draw(currentDeg);
});

resizeCanvas();
update(currentDeg);
</script>

</body>
</html>

